"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/globe.gl";
exports.ids = ["vendor-chunks/globe.gl"];
exports.modules = {

/***/ "(ssr)/./node_modules/globe.gl/dist/globe.gl.mjs":
/*!*************************************************!*\
  !*** ./node_modules/globe.gl/dist/globe.gl.mjs ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ globe)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"(ssr)/./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js\");\n/* harmony import */ var three_globe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three-globe */ \"(ssr)/./node_modules/three-globe/dist/three-globe.mjs\");\n/* harmony import */ var three_render_objects__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three-render-objects */ \"(ssr)/./node_modules/three-render-objects/dist/three-render-objects.mjs\");\n/* harmony import */ var accessor_fn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! accessor-fn */ \"(ssr)/./node_modules/accessor-fn/dist/accessor-fn.mjs\");\n/* harmony import */ var kapsule__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! kapsule */ \"(ssr)/./node_modules/kapsule/dist/kapsule.mjs\");\n/* harmony import */ var _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tweenjs/tween.js */ \"(ssr)/./node_modules/@tweenjs/tween.js/dist/tween.esm.js\");\n\n\n\n\n\n\n\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".scene-container .clickable {\\n  cursor: pointer;\\n}\";\nstyleInject(css_248z);\n\nfunction _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return _arrayLikeToArray(r);\n}\nfunction _defineProperty(e, r, t) {\n  return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: true,\n    configurable: true,\n    writable: true\n  }) : e[r] = t, e;\n}\nfunction _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function (r) {\n      _defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = _objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var n = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nfunction _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nfunction _toConsumableArray(r) {\n  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != typeof t || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r);\n    if (\"object\" != typeof i) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == typeof i ? i : i + \"\";\n}\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return _arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;\n  }\n}\n\nfunction linkKapsule (kapsulePropName, kapsuleType) {\n  var dummyK = new kapsuleType(); // To extract defaults\n  dummyK._destructor && dummyK._destructor();\n  return {\n    linkProp: function linkProp(prop) {\n      // link property config\n      return {\n        \"default\": dummyK[prop](),\n        onChange: function onChange(v, state) {\n          state[kapsulePropName][prop](v);\n        },\n        triggerUpdate: false\n      };\n    },\n    linkMethod: function linkMethod(method) {\n      // link method pass-through\n      return function (state) {\n        var kapsuleInstance = state[kapsulePropName];\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        var returnVal = kapsuleInstance[method].apply(kapsuleInstance, args);\n        return returnVal === kapsuleInstance ? this // chain based on the parent object, not the inner kapsule\n        : returnVal;\n      };\n    }\n  };\n}\n\nvar _excluded = [\"rendererConfig\", \"waitForGlobeReady\"];\nvar THREE = _objectSpread2(_objectSpread2({}, window.THREE ? window.THREE // Prefer consumption from global THREE, if exists\n: {\n  AmbientLight: three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight,\n  DirectionalLight: three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight,\n  Vector2: three__WEBPACK_IMPORTED_MODULE_2__.Vector2,\n  REVISION: three__WEBPACK_IMPORTED_MODULE_2__.REVISION\n}), {}, {\n  CSS2DRenderer: three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_3__.CSS2DRenderer\n});\n\n//\n\n// Expose config from ThreeGlobe\nvar bindGlobe = linkKapsule('globe', three_globe__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nvar linkedGlobeProps = Object.assign.apply(Object, _toConsumableArray(['globeImageUrl', 'bumpImageUrl', 'globeTileEngineUrl', 'globeTileEngineMaxLevel', 'globeCurvatureResolution', 'showGlobe', 'showGraticules', 'showAtmosphere', 'atmosphereColor', 'atmosphereAltitude', 'onGlobeReady', 'pointsData', 'pointLat', 'pointLng', 'pointColor', 'pointAltitude', 'pointRadius', 'pointResolution', 'pointsMerge', 'pointsTransitionDuration', 'arcsData', 'arcStartLat', 'arcStartLng', 'arcStartAltitude', 'arcEndLat', 'arcEndLng', 'arcEndAltitude', 'arcColor', 'arcAltitude', 'arcAltitudeAutoScale', 'arcStroke', 'arcCurveResolution', 'arcCircularResolution', 'arcDashLength', 'arcDashGap', 'arcDashInitialGap', 'arcDashAnimateTime', 'arcsTransitionDuration', 'polygonsData', 'polygonGeoJsonGeometry', 'polygonCapColor', 'polygonCapMaterial', 'polygonSideColor', 'polygonSideMaterial', 'polygonStrokeColor', 'polygonAltitude', 'polygonCapCurvatureResolution', 'polygonsTransitionDuration', 'pathsData', 'pathPoints', 'pathPointLat', 'pathPointLng', 'pathPointAlt', 'pathResolution', 'pathColor', 'pathStroke', 'pathDashLength', 'pathDashGap', 'pathDashInitialGap', 'pathDashAnimateTime', 'pathTransitionDuration', 'heatmapsData', 'heatmapPoints', 'heatmapPointLat', 'heatmapPointLng', 'heatmapPointWeight', 'heatmapBandwidth', 'heatmapColorFn', 'heatmapColorSaturation', 'heatmapBaseAltitude', 'heatmapTopAltitude', 'heatmapsTransitionDuration', 'hexBinPointsData', 'hexBinPointLat', 'hexBinPointLng', 'hexBinPointWeight', 'hexBinResolution', 'hexMargin', 'hexTopCurvatureResolution', 'hexTopColor', 'hexSideColor', 'hexAltitude', 'hexBinMerge', 'hexTransitionDuration', 'hexPolygonsData', 'hexPolygonGeoJsonGeometry', 'hexPolygonColor', 'hexPolygonAltitude', 'hexPolygonResolution', 'hexPolygonMargin', 'hexPolygonUseDots', 'hexPolygonCurvatureResolution', 'hexPolygonDotResolution', 'hexPolygonsTransitionDuration', 'tilesData', 'tileLat', 'tileLng', 'tileAltitude', 'tileWidth', 'tileHeight', 'tileUseGlobeProjection', 'tileMaterial', 'tileCurvatureResolution', 'tilesTransitionDuration', 'particlesData', 'particlesList', 'particleLat', 'particleLng', 'particleAltitude', 'particlesSize', 'particlesSizeAttenuation', 'particlesColor', 'particlesTexture', 'ringsData', 'ringLat', 'ringLng', 'ringAltitude', 'ringColor', 'ringResolution', 'ringMaxRadius', 'ringPropagationSpeed', 'ringRepeatPeriod', 'labelsData', 'labelLat', 'labelLng', 'labelAltitude', 'labelRotation', 'labelText', 'labelSize', 'labelTypeFace', 'labelColor', 'labelResolution', 'labelIncludeDot', 'labelDotRadius', 'labelDotOrientation', 'labelsTransitionDuration', 'htmlElementsData', 'htmlLat', 'htmlLng', 'htmlAltitude', 'htmlElement', 'htmlElementVisibilityModifier', 'htmlTransitionDuration', 'objectsData', 'objectLat', 'objectLng', 'objectAltitude', 'objectRotation', 'objectFacesSurface', 'objectThreeObject', 'customLayerData', 'customThreeObject', 'customThreeObjectUpdate'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkProp(p));\n})));\nvar linkedGlobeMethods = Object.assign.apply(Object, _toConsumableArray(['globeMaterial', 'globeTileEngineClearCache', 'getGlobeRadius', 'getCoords', 'toGeoCoords'].map(function (p) {\n  return _defineProperty({}, p, bindGlobe.linkMethod(p));\n})));\n\n// Expose config from renderObjs\nvar bindRenderObjs = linkKapsule('renderObjs', three_render_objects__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\nvar linkedRenderObjsProps = Object.assign.apply(Object, _toConsumableArray(['width', 'height', 'backgroundColor', 'backgroundImageUrl', 'enablePointerInteraction'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkProp(p));\n})));\nvar linkedRenderObjsMethods = Object.assign.apply(Object, _toConsumableArray(['lights', 'postProcessingComposer'].map(function (p) {\n  return _defineProperty({}, p, bindRenderObjs.linkMethod(p));\n})));\n\n//\n\nvar globe = (0,kapsule__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n  props: _objectSpread2(_objectSpread2({\n    onZoom: {\n      triggerUpdate: false\n    },\n    onGlobeClick: {\n      triggerUpdate: false\n    },\n    onGlobeRightClick: {\n      triggerUpdate: false\n    },\n    pointLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPointClick: {\n      triggerUpdate: false\n    },\n    onPointRightClick: {\n      triggerUpdate: false\n    },\n    onPointHover: {\n      triggerUpdate: false\n    },\n    arcLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onArcClick: {\n      triggerUpdate: false\n    },\n    onArcRightClick: {\n      triggerUpdate: false\n    },\n    onArcHover: {\n      triggerUpdate: false\n    },\n    polygonLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPolygonClick: {\n      triggerUpdate: false\n    },\n    onPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onPolygonHover: {\n      triggerUpdate: false\n    },\n    pathLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onPathClick: {\n      triggerUpdate: false\n    },\n    onPathRightClick: {\n      triggerUpdate: false\n    },\n    onPathHover: {\n      triggerUpdate: false\n    },\n    onHeatmapClick: {\n      triggerUpdate: false\n    },\n    onHeatmapRightClick: {\n      triggerUpdate: false\n    },\n    onHeatmapHover: {\n      triggerUpdate: false\n    },\n    hexLabel: {\n      triggerUpdate: false\n    },\n    onHexClick: {\n      triggerUpdate: false\n    },\n    onHexRightClick: {\n      triggerUpdate: false\n    },\n    onHexHover: {\n      triggerUpdate: false\n    },\n    hexPolygonLabel: {\n      triggerUpdate: false\n    },\n    onHexPolygonClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonRightClick: {\n      triggerUpdate: false\n    },\n    onHexPolygonHover: {\n      triggerUpdate: false\n    },\n    tileLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onTileClick: {\n      triggerUpdate: false\n    },\n    onTileRightClick: {\n      triggerUpdate: false\n    },\n    onTileHover: {\n      triggerUpdate: false\n    },\n    particleLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onParticleClick: {\n      triggerUpdate: false\n    },\n    onParticleRightClick: {\n      triggerUpdate: false\n    },\n    onParticleHover: {\n      triggerUpdate: false\n    },\n    labelLabel: {\n      triggerUpdate: false\n    },\n    onLabelClick: {\n      triggerUpdate: false\n    },\n    onLabelRightClick: {\n      triggerUpdate: false\n    },\n    onLabelHover: {\n      triggerUpdate: false\n    },\n    objectLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onObjectClick: {\n      triggerUpdate: false\n    },\n    onObjectRightClick: {\n      triggerUpdate: false\n    },\n    onObjectHover: {\n      triggerUpdate: false\n    },\n    customLayerLabel: {\n      \"default\": 'name',\n      triggerUpdate: false\n    },\n    onCustomLayerClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerRightClick: {\n      triggerUpdate: false\n    },\n    onCustomLayerHover: {\n      triggerUpdate: false\n    },\n    pointerEventsFilter: {\n      \"default\": function _default() {\n        return true;\n      },\n      triggerUpdate: false\n    },\n    lineHoverPrecision: {\n      \"default\": 0.2,\n      triggerUpdate: false,\n      onChange: function onChange(val, state) {\n        state.renderObjs.lineHoverPrecision(val);\n        state.renderObjs.pointsHoverPrecision(val);\n      }\n    },\n    showPointerCursor: {\n      \"default\": true,\n      triggerUpdate: false\n    },\n    globeOffset: {\n      \"default\": [0, 0],\n      triggerUpdate: false,\n      onChange: function onChange(o, state) {\n        return Array.isArray(o) && o.length === 2 && state.renderObjs.viewOffset(o.map(function (v) {\n          return -v;\n        }));\n      }\n    }\n  }, linkedGlobeProps), linkedRenderObjsProps),\n  methods: _objectSpread2(_objectSpread2({\n    pauseAnimation: function pauseAnimation(state) {\n      var _state$globe;\n      if (state.animationFrameRequestId !== null) {\n        cancelAnimationFrame(state.animationFrameRequestId);\n        state.animationFrameRequestId = null;\n      }\n      (_state$globe = state.globe) === null || _state$globe === void 0 || _state$globe.pauseAnimation();\n      return this;\n    },\n    resumeAnimation: function resumeAnimation(state) {\n      var _state$globe2;\n      if (state.animationFrameRequestId === null) {\n        this._animationCycle();\n      }\n      (_state$globe2 = state.globe) === null || _state$globe2 === void 0 || _state$globe2.resumeAnimation();\n      return this;\n    },\n    _animationCycle: function _animationCycle(state) {\n      // Frame cycle\n      state.renderObjs.tick();\n      state.tweenGroup.update();\n      state.animationFrameRequestId = requestAnimationFrame(this._animationCycle);\n    },\n    pointOfView: function pointOfView(state) {\n      var geoCoords = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var transitionDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var curGeoCoords = getGeoCoords();\n\n      // Getter\n      if (geoCoords.lat === undefined && geoCoords.lng === undefined && geoCoords.altitude === undefined) {\n        return curGeoCoords;\n      } else {\n        // Setter\n        var finalGeoCoords = Object.assign({}, curGeoCoords, geoCoords);\n        ['lat', 'lng', 'altitude'].forEach(function (p) {\n          return finalGeoCoords[p] = +finalGeoCoords[p];\n        }); // coerce coords to number\n\n        if (!transitionDuration) {\n          // no animation\n          setCameraPos(finalGeoCoords);\n        } else {\n          // Avoid rotating more than 180deg longitude\n          while (curGeoCoords.lng - finalGeoCoords.lng > 180) curGeoCoords.lng -= 360;\n          while (curGeoCoords.lng - finalGeoCoords.lng < -180) curGeoCoords.lng += 360;\n          state.tweenGroup.add(new _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__.Tween(curGeoCoords).to(finalGeoCoords, transitionDuration).easing(_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__.Easing.Cubic.InOut).onUpdate(setCameraPos).start());\n        }\n        return this;\n      }\n\n      //\n\n      function getGeoCoords() {\n        return state.globe.toGeoCoords(state.renderObjs.cameraPosition());\n      }\n      function setCameraPos(_ref5) {\n        var lat = _ref5.lat,\n          lng = _ref5.lng,\n          altitude = _ref5.altitude;\n        state.renderObjs.cameraPosition(state.globe.getCoords(lat, lng, altitude));\n        state.globe.setPointOfView(state.renderObjs.camera()); // report position to globe\n      }\n    },\n    getScreenCoords: function getScreenCoords(state) {\n      var _state$globe3;\n      for (var _len = arguments.length, geoCoords = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        geoCoords[_key - 1] = arguments[_key];\n      }\n      var cartesianCoords = (_state$globe3 = state.globe).getCoords.apply(_state$globe3, geoCoords);\n      return state.renderObjs.getScreenCoords(cartesianCoords.x, cartesianCoords.y, cartesianCoords.z);\n    },\n    toGlobeCoords: function toGlobeCoords(state, x, y) {\n      var globeIntersects = state.renderObjs.intersectingObjects(x, y).find(function (d) {\n        return (d.object.__globeObjType || d.object.parent.__globeObjType) === 'globe';\n      });\n      if (!globeIntersects) return null; // coords outside globe\n\n      var _state$globe$toGeoCoo = state.globe.toGeoCoords(globeIntersects.point),\n        lat = _state$globe$toGeoCoo.lat,\n        lng = _state$globe$toGeoCoo.lng;\n      return {\n        lat: lat,\n        lng: lng\n      };\n    },\n    scene: function scene(state) {\n      return state.renderObjs.scene();\n    },\n    // Expose scene\n    camera: function camera(state) {\n      return state.renderObjs.camera();\n    },\n    // Expose camera\n    renderer: function renderer(state) {\n      return state.renderObjs.renderer();\n    },\n    // Expose renderer\n    controls: function controls(state) {\n      return state.renderObjs.controls();\n    },\n    // Expose controls\n    _destructor: function _destructor(state) {\n      state.globe._destructor();\n      this.pauseAnimation();\n      this.pointsData([]);\n      this.arcsData([]);\n      this.polygonsData([]);\n      this.pathsData([]);\n      this.heatmapsData([]);\n      this.hexBinPointsData([]);\n      this.hexPolygonsData([]);\n      this.tilesData([]);\n      this.particlesData([]);\n      this.labelsData([]);\n      this.htmlElementsData([]);\n      this.objectsData([]);\n      this.customLayerData([]);\n    }\n  }, linkedGlobeMethods), linkedRenderObjsMethods),\n  stateInit: function stateInit(_ref6) {\n    var rendererConfig = _ref6.rendererConfig,\n      _ref6$waitForGlobeRea = _ref6.waitForGlobeReady,\n      waitForGlobeReady = _ref6$waitForGlobeRea === void 0 ? true : _ref6$waitForGlobeRea,\n      globeInitConfig = _objectWithoutProperties(_ref6, _excluded);\n    var globe = new three_globe__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_objectSpread2({\n      waitForGlobeReady: waitForGlobeReady\n    }, globeInitConfig));\n    return {\n      globe: globe,\n      renderObjs: (0,three_render_objects__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n        controlType: 'orbit',\n        rendererConfig: rendererConfig,\n        waitForLoadComplete: waitForGlobeReady,\n        extraRenderers: [new THREE.CSS2DRenderer()] // Used in HTML elements layer\n      }).skyRadius(globe.getGlobeRadius() * 500).showNavInfo(false).objects([globe]) // Populate scene\n      .lights([new THREE.AmbientLight(0xcccccc, Math.PI), new THREE.DirectionalLight(0xffffff, 0.6 * Math.PI)]),\n      tweenGroup: new _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_1__.Group()\n    };\n  },\n  init: function init(domNode, state) {\n    var _this = this;\n    // Wipe DOM\n    domNode.innerHTML = '';\n\n    // Add relative container\n    domNode.appendChild(state.container = document.createElement('div'));\n    state.container.style.position = 'relative';\n\n    // Add renderObjs\n    var roDomNode = document.createElement('div');\n    state.container.appendChild(roDomNode);\n    state.renderObjs(roDomNode);\n\n    // inject renderer size on three-globe\n    state.globe.rendererSize(state.renderObjs.renderer().getSize(new THREE.Vector2()));\n\n    // set initial distance\n    this.pointOfView({\n      altitude: 2.5\n    });\n\n    // calibrate orbit controls\n    var globeR = state.globe.getGlobeRadius();\n    var controls = state.renderObjs.controls();\n    state.renderObjs.camera().near = 0.05; // less will start causing depth z-fighting issues\n    controls.minDistance = globeR + Math.max(0.001, state.renderObjs.camera().near * 1.1); // just above the surface, as much as camera near plane permits\n    controls.maxDistance = globeR * 100;\n    controls.enablePan = false;\n    controls.enableDamping = true;\n    controls.dampingFactor = 0.1;\n    controls.rotateSpeed = 0.3;\n    controls.zoomSpeed = 0.3;\n    controls.zoomToCursor = true;\n    controls.addEventListener('change', function () {\n      controls.target.setScalar(0); // Keep orbit target on center\n\n      // adjust controls speed based on altitude\n      var pov = _this.pointOfView();\n      controls.rotateSpeed = pov.altitude * 0.3;\n      controls.zoomSpeed = Math.sqrt(pov.altitude) * 0.5;\n\n      // Update three-globe pov when camera moves, for proper hiding of elements\n      state.globe.setPointOfView(state.renderObjs.camera());\n      state.onZoom && state.onZoom(pov);\n    });\n\n    // config renderObjs\n    var getGlobeObj = function getGlobeObj(object) {\n      var obj = object;\n      // recurse up object chain until finding the globe object\n      while (obj && !obj.hasOwnProperty('__globeObjType')) {\n        obj = obj.parent;\n      }\n      return obj;\n    };\n    var dataAccessors = {\n      point: function point(d) {\n        return d;\n      },\n      arc: function arc(d) {\n        return d;\n      },\n      polygon: function polygon(d) {\n        return d.data;\n      },\n      path: function path(d) {\n        return d;\n      },\n      heatmap: function heatmap(d) {\n        return d;\n      },\n      hexbin: function hexbin(d) {\n        return d;\n      },\n      hexPolygon: function hexPolygon(d) {\n        return d;\n      },\n      tile: function tile(d) {\n        return d;\n      },\n      particles: function particles(d, intersection) {\n        return !intersection || !intersection.hasOwnProperty('index') || d.length <= intersection.index ? d : d[intersection.index];\n      },\n      label: function label(d) {\n        return d;\n      },\n      object: function object(d) {\n        return d;\n      },\n      custom: function custom(d) {\n        return d;\n      }\n    };\n    THREE.REVISION < 155 && (state.renderObjs.renderer().useLegacyLights = false); // force behavior of three < 155\n    state.renderObjs.hoverFilter(function (obj) {\n      var o = getGlobeObj(obj);\n\n      // ignore non-globe objects\n      if (!o) return false;\n      var type = o.__globeObjType;\n      if (type !== 'globe' && !dataAccessors.hasOwnProperty(type)) return false; // Ignore obj types with no data\n      var d = dataAccessors.hasOwnProperty(type) && o.__data ? dataAccessors[type](o.__data) : null;\n\n      // Ignore merged geometry objects that don't have interaction per point\n      if (['points', 'hexBinPoints'].some(function (t) {\n        return t === type;\n      }) && Array.isArray(d)) return false;\n      return state.pointerEventsFilter(o, d);\n    }).tooltipContent(function (obj, intersection) {\n      var objAccessors = {\n        point: state.pointLabel,\n        arc: state.arcLabel,\n        polygon: state.polygonLabel,\n        path: state.pathLabel,\n        hexbin: state.hexLabel,\n        hexPolygon: state.hexPolygonLabel,\n        tile: state.tileLabel,\n        particles: state.particleLabel,\n        label: state.labelLabel,\n        object: state.objectLabel,\n        custom: state.customLayerLabel\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj && globeObj.__globeObjType;\n      return globeObj && objType && objAccessors.hasOwnProperty(objType) && dataAccessors.hasOwnProperty(objType) ? (0,accessor_fn__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(objAccessors[objType])(dataAccessors[objType](globeObj.__data, intersection)) || '' : '';\n    }).onHover(function (obj, _, intersection) {\n      // Update tooltip and trigger onHover events\n      var hoverObjFns = {\n        point: state.onPointHover,\n        arc: state.onArcHover,\n        polygon: state.onPolygonHover,\n        path: state.onPathHover,\n        heatmap: state.onHeatmapHover,\n        hexbin: state.onHexHover,\n        hexPolygon: state.onHexPolygonHover,\n        tile: state.onTileHover,\n        particles: state.onParticleHover,\n        label: state.onLabelHover,\n        object: state.onObjectHover,\n        custom: state.onCustomLayerHover\n      };\n      var clickObjFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        heatmap: state.onHeatmapClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        particles: state.onParticleClick,\n        label: state.onLabelClick,\n        object: state.onObjectClick,\n        custom: state.onCustomLayerClick\n      };\n      var hoverObj = getGlobeObj(obj);\n\n      // ignore non-recognised obj types\n      hoverObj && !hoverObjFns.hasOwnProperty(hoverObj.__globeObjType) && (hoverObj = null);\n      if (hoverObj !== state.hoverObj) {\n        var _hoverObj;\n        var prevObjType = state.hoverObj ? state.hoverObj.__globeObjType : null;\n        var prevObjData = state.hoverData;\n        var objType = hoverObj ? hoverObj.__globeObjType : null;\n        var objData = (_hoverObj = hoverObj) !== null && _hoverObj !== void 0 && _hoverObj.__data ? dataAccessors[objType](hoverObj.__data, intersection) : null;\n        if (prevObjType && prevObjType !== objType) {\n          // Hover out\n          hoverObjFns[prevObjType] && hoverObjFns[prevObjType](null, prevObjData || null);\n        }\n        if (objType) {\n          // Hover in\n          hoverObjFns[objType] && hoverObjFns[objType](objData, prevObjType === objType ? prevObjData : null);\n        }\n\n        // set pointer if hovered object is clickable\n        state.renderObjs.renderer().domElement.classList[objType && clickObjFns[objType] && (0,accessor_fn__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(state.showPointerCursor)(objType, objData) ? 'add' : 'remove']('clickable');\n        state.hoverObj = hoverObj;\n        state.hoverData = objData;\n      }\n    }).onClick(function (obj, ev, intersection) {\n      if (!obj) return; // ignore background clicks\n\n      // Handle click events on objects\n      var objFns = {\n        globe: state.onGlobeClick,\n        point: state.onPointClick,\n        arc: state.onArcClick,\n        polygon: state.onPolygonClick,\n        path: state.onPathClick,\n        heatmap: state.onHeatmapClick,\n        hexbin: state.onHexClick,\n        hexPolygon: state.onHexPolygonClick,\n        tile: state.onTileClick,\n        particles: state.onParticleClick,\n        label: state.onLabelClick,\n        object: state.onObjectClick,\n        custom: state.onCustomLayerClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        // include click coords\n        var point = intersection !== null && intersection !== void 0 && intersection.isVector3 ? intersection : intersection === null || intersection === void 0 ? void 0 : intersection.point;\n        if (objType === 'globe') {\n          var _this$toGeoCoords = _this.toGeoCoords(point),\n            lat = _this$toGeoCoords.lat,\n            lng = _this$toGeoCoords.lng;\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        } else {\n          args.push(_this.toGeoCoords(point));\n        }\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data, intersection));\n        objFns[objType].apply(objFns, args);\n      }\n    }).onRightClick(function (obj, ev, intersection) {\n      if (!obj) return; // ignore background clicks\n\n      // Handle right-click events\n      var objFns = {\n        globe: state.onGlobeRightClick,\n        point: state.onPointRightClick,\n        arc: state.onArcRightClick,\n        polygon: state.onPolygonRightClick,\n        path: state.onPathRightClick,\n        heatmap: state.onHeatmapRightClick,\n        hexbin: state.onHexRightClick,\n        hexPolygon: state.onHexPolygonRightClick,\n        tile: state.onTileRightClick,\n        particles: state.onParticleRightClick,\n        label: state.onLabelRightClick,\n        object: state.onObjectRightClick,\n        custom: state.onCustomLayerRightClick\n      };\n      var globeObj = getGlobeObj(obj);\n      var objType = globeObj.__globeObjType;\n      if (globeObj && objFns.hasOwnProperty(objType) && objFns[objType]) {\n        var args = [ev];\n\n        // include click coords\n        var point = intersection !== null && intersection !== void 0 && intersection.isVector3 ? intersection : intersection === null || intersection === void 0 ? void 0 : intersection.point;\n        if (objType === 'globe') {\n          var _this$toGeoCoords2 = _this.toGeoCoords(point),\n            lat = _this$toGeoCoords2.lat,\n            lng = _this$toGeoCoords2.lng;\n          args.unshift({\n            lat: lat,\n            lng: lng\n          });\n        } else {\n          args.push(_this.toGeoCoords(point));\n        }\n        dataAccessors.hasOwnProperty(objType) && args.unshift(dataAccessors[objType](globeObj.__data, intersection));\n        objFns[objType].apply(objFns, args);\n      }\n    });\n\n    //\n\n    // Kick-off renderer\n    this._animationCycle();\n  }\n});\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvZ2xvYmUuZ2wvZGlzdC9nbG9iZS5nbC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEU7QUFDSTtBQUN6QztBQUNpQjtBQUNqQjtBQUNQO0FBQzJCOztBQUV6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUEsNkNBQTZDLG9CQUFvQixHQUFHO0FBQ3BFOztBQUVBO0FBQ0E7QUFDQSxnQ0FBZ0MsT0FBTztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYyx3Q0FBd0M7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsYUFBYTtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQSxnQkFBZ0IsK0NBQVk7QUFDNUIsb0JBQW9CLG1EQUFnQjtBQUNwQyxXQUFXLDBDQUFPO0FBQ2xCLFlBQVksMkNBQVE7QUFDcEIsQ0FBQyxLQUFLO0FBQ04saUJBQWlCLHdGQUFhO0FBQzlCLENBQUM7O0FBRUQ7O0FBRUE7QUFDQSxxQ0FBcUMsbURBQVU7QUFDL0M7QUFDQSwyQkFBMkI7QUFDM0IsQ0FBQztBQUNEO0FBQ0EsMkJBQTJCO0FBQzNCLENBQUM7O0FBRUQ7QUFDQSwrQ0FBK0MsNERBQWtCO0FBQ2pFO0FBQ0EsMkJBQTJCO0FBQzNCLENBQUM7QUFDRDtBQUNBLDJCQUEyQjtBQUMzQixDQUFDOztBQUVEOztBQUVBLFlBQVksbURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQSxTQUFTLEdBQUc7O0FBRVo7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvREFBSyw2REFBNkQscURBQU07QUFDM0c7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtHQUFrRyxhQUFhO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCx5Q0FBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbURBQVU7QUFDOUI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQixnRUFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxzQkFBc0Isb0RBQUs7QUFDM0I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0MsMkZBQTJGO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUY7QUFDbkY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUY7QUFDakY7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9IQUFvSCx1REFBVTtBQUM5SCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEYsdURBQVU7QUFDdEc7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHdCQUF3Qjs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0JBQXdCOztBQUV4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFMkIiLCJzb3VyY2VzIjpbIkQ6XFxTdHVkeSBTdHVmZlxcU2VtZXN0ZXJcXFByb2plY3RzXFw1dGggU2VtZXN0ZXJcXERWXFxGaW5hbCBEYXNoYm9hcmRcXEZvcmtlZFxcZHZfZGFzaGJvYXJkXFxub2RlX21vZHVsZXNcXGdsb2JlLmdsXFxkaXN0XFxnbG9iZS5nbC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUkVWSVNJT04sIFZlY3RvcjIsIERpcmVjdGlvbmFsTGlnaHQsIEFtYmllbnRMaWdodCB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IENTUzJEUmVuZGVyZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcmVuZGVyZXJzL0NTUzJEUmVuZGVyZXIuanMnO1xuaW1wb3J0IFRocmVlR2xvYmUgZnJvbSAndGhyZWUtZ2xvYmUnO1xuaW1wb3J0IFRocmVlUmVuZGVyT2JqZWN0cyBmcm9tICd0aHJlZS1yZW5kZXItb2JqZWN0cyc7XG5pbXBvcnQgYWNjZXNzb3JGbiBmcm9tICdhY2Nlc3Nvci1mbic7XG5pbXBvcnQgS2Fwc3VsZSBmcm9tICdrYXBzdWxlJztcbmltcG9ydCB7IEdyb3VwLCBUd2VlbiwgRWFzaW5nIH0gZnJvbSAnQHR3ZWVuanMvdHdlZW4uanMnO1xuXG5mdW5jdGlvbiBzdHlsZUluamVjdChjc3MsIHJlZikge1xuICBpZiAocmVmID09PSB2b2lkIDApIHJlZiA9IHt9O1xuICB2YXIgaW5zZXJ0QXQgPSByZWYuaW5zZXJ0QXQ7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcbiAgaWYgKGluc2VydEF0ID09PSAndG9wJykge1xuICAgIGlmIChoZWFkLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBoZWFkLmZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIGNzc18yNDh6ID0gXCIuc2NlbmUtY29udGFpbmVyIC5jbGlja2FibGUge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cIjtcbnN0eWxlSW5qZWN0KGNzc18yNDh6KTtcblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkge1xuICAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7XG4gIGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdO1xuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkocik7XG59XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkge1xuICByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7XG4gICAgdmFsdWU6IHQsXG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSkgOiBlW3JdID0gdCwgZTtcbn1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikge1xuICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpO1xufVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbn1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikge1xuICB2YXIgdCA9IE9iamVjdC5rZXlzKGUpO1xuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtcbiAgICByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7XG4gICAgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7XG4gIH1cbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkMihlKSB7XG4gIGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7XG4gICAgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9O1xuICAgIHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhlLCB0KSB7XG4gIGlmIChudWxsID09IGUpIHJldHVybiB7fTtcbiAgdmFyIG8sXG4gICAgcixcbiAgICBpID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZSwgdCk7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO1xuICAgIGZvciAociA9IDA7IHIgPCBuLmxlbmd0aDsgcisrKSBvID0gbltyXSwgLTEgPT09IHQuaW5kZXhPZihvKSAmJiB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsIG8pICYmIChpW29dID0gZVtvXSk7XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShyLCBlKSB7XG4gIGlmIChudWxsID09IHIpIHJldHVybiB7fTtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgbiBpbiByKSBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChyLCBuKSkge1xuICAgIGlmICgtMSAhPT0gZS5pbmRleE9mKG4pKSBjb250aW51ZTtcbiAgICB0W25dID0gcltuXTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikge1xuICBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuIHQ7XG4gIHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAodm9pZCAwICE9PSBlKSB7XG4gICAgdmFyIGkgPSBlLmNhbGwodCwgcik7XG4gICAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGkpIHJldHVybiBpO1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTtcbiAgfVxuICByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpO1xufVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkge1xuICB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIFwic3ltYm9sXCIgPT0gdHlwZW9mIGkgPyBpIDogaSArIFwiXCI7XG59XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkge1xuICBpZiAocikge1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7XG4gICAgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTtcbiAgICByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBsaW5rS2Fwc3VsZSAoa2Fwc3VsZVByb3BOYW1lLCBrYXBzdWxlVHlwZSkge1xuICB2YXIgZHVtbXlLID0gbmV3IGthcHN1bGVUeXBlKCk7IC8vIFRvIGV4dHJhY3QgZGVmYXVsdHNcbiAgZHVtbXlLLl9kZXN0cnVjdG9yICYmIGR1bW15Sy5fZGVzdHJ1Y3RvcigpO1xuICByZXR1cm4ge1xuICAgIGxpbmtQcm9wOiBmdW5jdGlvbiBsaW5rUHJvcChwcm9wKSB7XG4gICAgICAvLyBsaW5rIHByb3BlcnR5IGNvbmZpZ1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgXCJkZWZhdWx0XCI6IGR1bW15S1twcm9wXSgpLFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uodiwgc3RhdGUpIHtcbiAgICAgICAgICBzdGF0ZVtrYXBzdWxlUHJvcE5hbWVdW3Byb3BdKHYpO1xuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgICAgfTtcbiAgICB9LFxuICAgIGxpbmtNZXRob2Q6IGZ1bmN0aW9uIGxpbmtNZXRob2QobWV0aG9kKSB7XG4gICAgICAvLyBsaW5rIG1ldGhvZCBwYXNzLXRocm91Z2hcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGthcHN1bGVJbnN0YW5jZSA9IHN0YXRlW2thcHN1bGVQcm9wTmFtZV07XG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmV0dXJuVmFsID0ga2Fwc3VsZUluc3RhbmNlW21ldGhvZF0uYXBwbHkoa2Fwc3VsZUluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbCA9PT0ga2Fwc3VsZUluc3RhbmNlID8gdGhpcyAvLyBjaGFpbiBiYXNlZCBvbiB0aGUgcGFyZW50IG9iamVjdCwgbm90IHRoZSBpbm5lciBrYXBzdWxlXG4gICAgICAgIDogcmV0dXJuVmFsO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJyZW5kZXJlckNvbmZpZ1wiLCBcIndhaXRGb3JHbG9iZVJlYWR5XCJdO1xudmFyIFRIUkVFID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIHdpbmRvdy5USFJFRSA/IHdpbmRvdy5USFJFRSAvLyBQcmVmZXIgY29uc3VtcHRpb24gZnJvbSBnbG9iYWwgVEhSRUUsIGlmIGV4aXN0c1xuOiB7XG4gIEFtYmllbnRMaWdodDogQW1iaWVudExpZ2h0LFxuICBEaXJlY3Rpb25hbExpZ2h0OiBEaXJlY3Rpb25hbExpZ2h0LFxuICBWZWN0b3IyOiBWZWN0b3IyLFxuICBSRVZJU0lPTjogUkVWSVNJT05cbn0pLCB7fSwge1xuICBDU1MyRFJlbmRlcmVyOiBDU1MyRFJlbmRlcmVyXG59KTtcblxuLy9cblxuLy8gRXhwb3NlIGNvbmZpZyBmcm9tIFRocmVlR2xvYmVcbnZhciBiaW5kR2xvYmUgPSBsaW5rS2Fwc3VsZSgnZ2xvYmUnLCBUaHJlZUdsb2JlKTtcbnZhciBsaW5rZWRHbG9iZVByb3BzID0gT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIF90b0NvbnN1bWFibGVBcnJheShbJ2dsb2JlSW1hZ2VVcmwnLCAnYnVtcEltYWdlVXJsJywgJ2dsb2JlVGlsZUVuZ2luZVVybCcsICdnbG9iZVRpbGVFbmdpbmVNYXhMZXZlbCcsICdnbG9iZUN1cnZhdHVyZVJlc29sdXRpb24nLCAnc2hvd0dsb2JlJywgJ3Nob3dHcmF0aWN1bGVzJywgJ3Nob3dBdG1vc3BoZXJlJywgJ2F0bW9zcGhlcmVDb2xvcicsICdhdG1vc3BoZXJlQWx0aXR1ZGUnLCAnb25HbG9iZVJlYWR5JywgJ3BvaW50c0RhdGEnLCAncG9pbnRMYXQnLCAncG9pbnRMbmcnLCAncG9pbnRDb2xvcicsICdwb2ludEFsdGl0dWRlJywgJ3BvaW50UmFkaXVzJywgJ3BvaW50UmVzb2x1dGlvbicsICdwb2ludHNNZXJnZScsICdwb2ludHNUcmFuc2l0aW9uRHVyYXRpb24nLCAnYXJjc0RhdGEnLCAnYXJjU3RhcnRMYXQnLCAnYXJjU3RhcnRMbmcnLCAnYXJjU3RhcnRBbHRpdHVkZScsICdhcmNFbmRMYXQnLCAnYXJjRW5kTG5nJywgJ2FyY0VuZEFsdGl0dWRlJywgJ2FyY0NvbG9yJywgJ2FyY0FsdGl0dWRlJywgJ2FyY0FsdGl0dWRlQXV0b1NjYWxlJywgJ2FyY1N0cm9rZScsICdhcmNDdXJ2ZVJlc29sdXRpb24nLCAnYXJjQ2lyY3VsYXJSZXNvbHV0aW9uJywgJ2FyY0Rhc2hMZW5ndGgnLCAnYXJjRGFzaEdhcCcsICdhcmNEYXNoSW5pdGlhbEdhcCcsICdhcmNEYXNoQW5pbWF0ZVRpbWUnLCAnYXJjc1RyYW5zaXRpb25EdXJhdGlvbicsICdwb2x5Z29uc0RhdGEnLCAncG9seWdvbkdlb0pzb25HZW9tZXRyeScsICdwb2x5Z29uQ2FwQ29sb3InLCAncG9seWdvbkNhcE1hdGVyaWFsJywgJ3BvbHlnb25TaWRlQ29sb3InLCAncG9seWdvblNpZGVNYXRlcmlhbCcsICdwb2x5Z29uU3Ryb2tlQ29sb3InLCAncG9seWdvbkFsdGl0dWRlJywgJ3BvbHlnb25DYXBDdXJ2YXR1cmVSZXNvbHV0aW9uJywgJ3BvbHlnb25zVHJhbnNpdGlvbkR1cmF0aW9uJywgJ3BhdGhzRGF0YScsICdwYXRoUG9pbnRzJywgJ3BhdGhQb2ludExhdCcsICdwYXRoUG9pbnRMbmcnLCAncGF0aFBvaW50QWx0JywgJ3BhdGhSZXNvbHV0aW9uJywgJ3BhdGhDb2xvcicsICdwYXRoU3Ryb2tlJywgJ3BhdGhEYXNoTGVuZ3RoJywgJ3BhdGhEYXNoR2FwJywgJ3BhdGhEYXNoSW5pdGlhbEdhcCcsICdwYXRoRGFzaEFuaW1hdGVUaW1lJywgJ3BhdGhUcmFuc2l0aW9uRHVyYXRpb24nLCAnaGVhdG1hcHNEYXRhJywgJ2hlYXRtYXBQb2ludHMnLCAnaGVhdG1hcFBvaW50TGF0JywgJ2hlYXRtYXBQb2ludExuZycsICdoZWF0bWFwUG9pbnRXZWlnaHQnLCAnaGVhdG1hcEJhbmR3aWR0aCcsICdoZWF0bWFwQ29sb3JGbicsICdoZWF0bWFwQ29sb3JTYXR1cmF0aW9uJywgJ2hlYXRtYXBCYXNlQWx0aXR1ZGUnLCAnaGVhdG1hcFRvcEFsdGl0dWRlJywgJ2hlYXRtYXBzVHJhbnNpdGlvbkR1cmF0aW9uJywgJ2hleEJpblBvaW50c0RhdGEnLCAnaGV4QmluUG9pbnRMYXQnLCAnaGV4QmluUG9pbnRMbmcnLCAnaGV4QmluUG9pbnRXZWlnaHQnLCAnaGV4QmluUmVzb2x1dGlvbicsICdoZXhNYXJnaW4nLCAnaGV4VG9wQ3VydmF0dXJlUmVzb2x1dGlvbicsICdoZXhUb3BDb2xvcicsICdoZXhTaWRlQ29sb3InLCAnaGV4QWx0aXR1ZGUnLCAnaGV4QmluTWVyZ2UnLCAnaGV4VHJhbnNpdGlvbkR1cmF0aW9uJywgJ2hleFBvbHlnb25zRGF0YScsICdoZXhQb2x5Z29uR2VvSnNvbkdlb21ldHJ5JywgJ2hleFBvbHlnb25Db2xvcicsICdoZXhQb2x5Z29uQWx0aXR1ZGUnLCAnaGV4UG9seWdvblJlc29sdXRpb24nLCAnaGV4UG9seWdvbk1hcmdpbicsICdoZXhQb2x5Z29uVXNlRG90cycsICdoZXhQb2x5Z29uQ3VydmF0dXJlUmVzb2x1dGlvbicsICdoZXhQb2x5Z29uRG90UmVzb2x1dGlvbicsICdoZXhQb2x5Z29uc1RyYW5zaXRpb25EdXJhdGlvbicsICd0aWxlc0RhdGEnLCAndGlsZUxhdCcsICd0aWxlTG5nJywgJ3RpbGVBbHRpdHVkZScsICd0aWxlV2lkdGgnLCAndGlsZUhlaWdodCcsICd0aWxlVXNlR2xvYmVQcm9qZWN0aW9uJywgJ3RpbGVNYXRlcmlhbCcsICd0aWxlQ3VydmF0dXJlUmVzb2x1dGlvbicsICd0aWxlc1RyYW5zaXRpb25EdXJhdGlvbicsICdwYXJ0aWNsZXNEYXRhJywgJ3BhcnRpY2xlc0xpc3QnLCAncGFydGljbGVMYXQnLCAncGFydGljbGVMbmcnLCAncGFydGljbGVBbHRpdHVkZScsICdwYXJ0aWNsZXNTaXplJywgJ3BhcnRpY2xlc1NpemVBdHRlbnVhdGlvbicsICdwYXJ0aWNsZXNDb2xvcicsICdwYXJ0aWNsZXNUZXh0dXJlJywgJ3JpbmdzRGF0YScsICdyaW5nTGF0JywgJ3JpbmdMbmcnLCAncmluZ0FsdGl0dWRlJywgJ3JpbmdDb2xvcicsICdyaW5nUmVzb2x1dGlvbicsICdyaW5nTWF4UmFkaXVzJywgJ3JpbmdQcm9wYWdhdGlvblNwZWVkJywgJ3JpbmdSZXBlYXRQZXJpb2QnLCAnbGFiZWxzRGF0YScsICdsYWJlbExhdCcsICdsYWJlbExuZycsICdsYWJlbEFsdGl0dWRlJywgJ2xhYmVsUm90YXRpb24nLCAnbGFiZWxUZXh0JywgJ2xhYmVsU2l6ZScsICdsYWJlbFR5cGVGYWNlJywgJ2xhYmVsQ29sb3InLCAnbGFiZWxSZXNvbHV0aW9uJywgJ2xhYmVsSW5jbHVkZURvdCcsICdsYWJlbERvdFJhZGl1cycsICdsYWJlbERvdE9yaWVudGF0aW9uJywgJ2xhYmVsc1RyYW5zaXRpb25EdXJhdGlvbicsICdodG1sRWxlbWVudHNEYXRhJywgJ2h0bWxMYXQnLCAnaHRtbExuZycsICdodG1sQWx0aXR1ZGUnLCAnaHRtbEVsZW1lbnQnLCAnaHRtbEVsZW1lbnRWaXNpYmlsaXR5TW9kaWZpZXInLCAnaHRtbFRyYW5zaXRpb25EdXJhdGlvbicsICdvYmplY3RzRGF0YScsICdvYmplY3RMYXQnLCAnb2JqZWN0TG5nJywgJ29iamVjdEFsdGl0dWRlJywgJ29iamVjdFJvdGF0aW9uJywgJ29iamVjdEZhY2VzU3VyZmFjZScsICdvYmplY3RUaHJlZU9iamVjdCcsICdjdXN0b21MYXllckRhdGEnLCAnY3VzdG9tVGhyZWVPYmplY3QnLCAnY3VzdG9tVGhyZWVPYmplY3RVcGRhdGUnXS5tYXAoZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcCwgYmluZEdsb2JlLmxpbmtQcm9wKHApKTtcbn0pKSk7XG52YXIgbGlua2VkR2xvYmVNZXRob2RzID0gT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIF90b0NvbnN1bWFibGVBcnJheShbJ2dsb2JlTWF0ZXJpYWwnLCAnZ2xvYmVUaWxlRW5naW5lQ2xlYXJDYWNoZScsICdnZXRHbG9iZVJhZGl1cycsICdnZXRDb29yZHMnLCAndG9HZW9Db29yZHMnXS5tYXAoZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcCwgYmluZEdsb2JlLmxpbmtNZXRob2QocCkpO1xufSkpKTtcblxuLy8gRXhwb3NlIGNvbmZpZyBmcm9tIHJlbmRlck9ianNcbnZhciBiaW5kUmVuZGVyT2JqcyA9IGxpbmtLYXBzdWxlKCdyZW5kZXJPYmpzJywgVGhyZWVSZW5kZXJPYmplY3RzKTtcbnZhciBsaW5rZWRSZW5kZXJPYmpzUHJvcHMgPSBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgX3RvQ29uc3VtYWJsZUFycmF5KFsnd2lkdGgnLCAnaGVpZ2h0JywgJ2JhY2tncm91bmRDb2xvcicsICdiYWNrZ3JvdW5kSW1hZ2VVcmwnLCAnZW5hYmxlUG9pbnRlckludGVyYWN0aW9uJ10ubWFwKGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sIHAsIGJpbmRSZW5kZXJPYmpzLmxpbmtQcm9wKHApKTtcbn0pKSk7XG52YXIgbGlua2VkUmVuZGVyT2Jqc01ldGhvZHMgPSBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgX3RvQ29uc3VtYWJsZUFycmF5KFsnbGlnaHRzJywgJ3Bvc3RQcm9jZXNzaW5nQ29tcG9zZXInXS5tYXAoZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcCwgYmluZFJlbmRlck9ianMubGlua01ldGhvZChwKSk7XG59KSkpO1xuXG4vL1xuXG52YXIgZ2xvYmUgPSBLYXBzdWxlKHtcbiAgcHJvcHM6IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHtcbiAgICBvblpvb206IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkdsb2JlQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkdsb2JlUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIHBvaW50TGFiZWw6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiAnbmFtZScsXG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25Qb2ludENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25Qb2ludFJpZ2h0Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBvaW50SG92ZXI6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBhcmNMYWJlbDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICduYW1lJyxcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkFyY0NsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25BcmNSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25BcmNIb3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIHBvbHlnb25MYWJlbDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICduYW1lJyxcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBvbHlnb25DbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUG9seWdvblJpZ2h0Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBvbHlnb25Ib3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIHBhdGhMYWJlbDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICduYW1lJyxcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBhdGhDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUGF0aFJpZ2h0Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBhdGhIb3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uSGVhdG1hcENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZWF0bWFwUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uSGVhdG1hcEhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgaGV4TGFiZWw6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkhleENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZXhSaWdodENsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZXhIb3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIGhleFBvbHlnb25MYWJlbDoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uSGV4UG9seWdvbkNsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25IZXhQb2x5Z29uUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uSGV4UG9seWdvbkhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgdGlsZUxhYmVsOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25hbWUnLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uVGlsZUNsaWNrOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgb25UaWxlUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uVGlsZUhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgcGFydGljbGVMYWJlbDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICduYW1lJyxcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBhcnRpY2xlQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvblBhcnRpY2xlUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uUGFydGljbGVIb3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIGxhYmVsTGFiZWw6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkxhYmVsQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkxhYmVsUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uTGFiZWxIb3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9iamVjdExhYmVsOiB7XG4gICAgICBcImRlZmF1bHRcIjogJ25hbWUnLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uT2JqZWN0Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbk9iamVjdFJpZ2h0Q2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbk9iamVjdEhvdmVyOiB7XG4gICAgICB0cmlnZ2VyVXBkYXRlOiBmYWxzZVxuICAgIH0sXG4gICAgY3VzdG9tTGF5ZXJMYWJlbDoge1xuICAgICAgXCJkZWZhdWx0XCI6ICduYW1lJyxcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkN1c3RvbUxheWVyQ2xpY2s6IHtcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlXG4gICAgfSxcbiAgICBvbkN1c3RvbUxheWVyUmlnaHRDbGljazoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIG9uQ3VzdG9tTGF5ZXJIb3Zlcjoge1xuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIHBvaW50ZXJFdmVudHNGaWx0ZXI6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiBmdW5jdGlvbiBfZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIGxpbmVIb3ZlclByZWNpc2lvbjoge1xuICAgICAgXCJkZWZhdWx0XCI6IDAuMixcbiAgICAgIHRyaWdnZXJVcGRhdGU6IGZhbHNlLFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbCwgc3RhdGUpIHtcbiAgICAgICAgc3RhdGUucmVuZGVyT2Jqcy5saW5lSG92ZXJQcmVjaXNpb24odmFsKTtcbiAgICAgICAgc3RhdGUucmVuZGVyT2Jqcy5wb2ludHNIb3ZlclByZWNpc2lvbih2YWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2hvd1BvaW50ZXJDdXJzb3I6IHtcbiAgICAgIFwiZGVmYXVsdFwiOiB0cnVlLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2VcbiAgICB9LFxuICAgIGdsb2JlT2Zmc2V0OiB7XG4gICAgICBcImRlZmF1bHRcIjogWzAsIDBdLFxuICAgICAgdHJpZ2dlclVwZGF0ZTogZmFsc2UsXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2Uobywgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkobykgJiYgby5sZW5ndGggPT09IDIgJiYgc3RhdGUucmVuZGVyT2Jqcy52aWV3T2Zmc2V0KG8ubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgcmV0dXJuIC12O1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBsaW5rZWRHbG9iZVByb3BzKSwgbGlua2VkUmVuZGVyT2Jqc1Byb3BzKSxcbiAgbWV0aG9kczogX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe1xuICAgIHBhdXNlQW5pbWF0aW9uOiBmdW5jdGlvbiBwYXVzZUFuaW1hdGlvbihzdGF0ZSkge1xuICAgICAgdmFyIF9zdGF0ZSRnbG9iZTtcbiAgICAgIGlmIChzdGF0ZS5hbmltYXRpb25GcmFtZVJlcXVlc3RJZCAhPT0gbnVsbCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShzdGF0ZS5hbmltYXRpb25GcmFtZVJlcXVlc3RJZCk7XG4gICAgICAgIHN0YXRlLmFuaW1hdGlvbkZyYW1lUmVxdWVzdElkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIChfc3RhdGUkZ2xvYmUgPSBzdGF0ZS5nbG9iZSkgPT09IG51bGwgfHwgX3N0YXRlJGdsb2JlID09PSB2b2lkIDAgfHwgX3N0YXRlJGdsb2JlLnBhdXNlQW5pbWF0aW9uKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHJlc3VtZUFuaW1hdGlvbjogZnVuY3Rpb24gcmVzdW1lQW5pbWF0aW9uKHN0YXRlKSB7XG4gICAgICB2YXIgX3N0YXRlJGdsb2JlMjtcbiAgICAgIGlmIChzdGF0ZS5hbmltYXRpb25GcmFtZVJlcXVlc3RJZCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9hbmltYXRpb25DeWNsZSgpO1xuICAgICAgfVxuICAgICAgKF9zdGF0ZSRnbG9iZTIgPSBzdGF0ZS5nbG9iZSkgPT09IG51bGwgfHwgX3N0YXRlJGdsb2JlMiA9PT0gdm9pZCAwIHx8IF9zdGF0ZSRnbG9iZTIucmVzdW1lQW5pbWF0aW9uKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIF9hbmltYXRpb25DeWNsZTogZnVuY3Rpb24gX2FuaW1hdGlvbkN5Y2xlKHN0YXRlKSB7XG4gICAgICAvLyBGcmFtZSBjeWNsZVxuICAgICAgc3RhdGUucmVuZGVyT2Jqcy50aWNrKCk7XG4gICAgICBzdGF0ZS50d2Vlbkdyb3VwLnVwZGF0ZSgpO1xuICAgICAgc3RhdGUuYW5pbWF0aW9uRnJhbWVSZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fYW5pbWF0aW9uQ3ljbGUpO1xuICAgIH0sXG4gICAgcG9pbnRPZlZpZXc6IGZ1bmN0aW9uIHBvaW50T2ZWaWV3KHN0YXRlKSB7XG4gICAgICB2YXIgZ2VvQ29vcmRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICB2YXIgY3VyR2VvQ29vcmRzID0gZ2V0R2VvQ29vcmRzKCk7XG5cbiAgICAgIC8vIEdldHRlclxuICAgICAgaWYgKGdlb0Nvb3Jkcy5sYXQgPT09IHVuZGVmaW5lZCAmJiBnZW9Db29yZHMubG5nID09PSB1bmRlZmluZWQgJiYgZ2VvQ29vcmRzLmFsdGl0dWRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGN1ckdlb0Nvb3JkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNldHRlclxuICAgICAgICB2YXIgZmluYWxHZW9Db29yZHMgPSBPYmplY3QuYXNzaWduKHt9LCBjdXJHZW9Db29yZHMsIGdlb0Nvb3Jkcyk7XG4gICAgICAgIFsnbGF0JywgJ2xuZycsICdhbHRpdHVkZSddLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICByZXR1cm4gZmluYWxHZW9Db29yZHNbcF0gPSArZmluYWxHZW9Db29yZHNbcF07XG4gICAgICAgIH0pOyAvLyBjb2VyY2UgY29vcmRzIHRvIG51bWJlclxuXG4gICAgICAgIGlmICghdHJhbnNpdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgLy8gbm8gYW5pbWF0aW9uXG4gICAgICAgICAgc2V0Q2FtZXJhUG9zKGZpbmFsR2VvQ29vcmRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBBdm9pZCByb3RhdGluZyBtb3JlIHRoYW4gMTgwZGVnIGxvbmdpdHVkZVxuICAgICAgICAgIHdoaWxlIChjdXJHZW9Db29yZHMubG5nIC0gZmluYWxHZW9Db29yZHMubG5nID4gMTgwKSBjdXJHZW9Db29yZHMubG5nIC09IDM2MDtcbiAgICAgICAgICB3aGlsZSAoY3VyR2VvQ29vcmRzLmxuZyAtIGZpbmFsR2VvQ29vcmRzLmxuZyA8IC0xODApIGN1ckdlb0Nvb3Jkcy5sbmcgKz0gMzYwO1xuICAgICAgICAgIHN0YXRlLnR3ZWVuR3JvdXAuYWRkKG5ldyBUd2VlbihjdXJHZW9Db29yZHMpLnRvKGZpbmFsR2VvQ29vcmRzLCB0cmFuc2l0aW9uRHVyYXRpb24pLmVhc2luZyhFYXNpbmcuQ3ViaWMuSW5PdXQpLm9uVXBkYXRlKHNldENhbWVyYVBvcykuc3RhcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vXG5cbiAgICAgIGZ1bmN0aW9uIGdldEdlb0Nvb3JkcygpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmdsb2JlLnRvR2VvQ29vcmRzKHN0YXRlLnJlbmRlck9ianMuY2FtZXJhUG9zaXRpb24oKSk7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzZXRDYW1lcmFQb3MoX3JlZjUpIHtcbiAgICAgICAgdmFyIGxhdCA9IF9yZWY1LmxhdCxcbiAgICAgICAgICBsbmcgPSBfcmVmNS5sbmcsXG4gICAgICAgICAgYWx0aXR1ZGUgPSBfcmVmNS5hbHRpdHVkZTtcbiAgICAgICAgc3RhdGUucmVuZGVyT2Jqcy5jYW1lcmFQb3NpdGlvbihzdGF0ZS5nbG9iZS5nZXRDb29yZHMobGF0LCBsbmcsIGFsdGl0dWRlKSk7XG4gICAgICAgIHN0YXRlLmdsb2JlLnNldFBvaW50T2ZWaWV3KHN0YXRlLnJlbmRlck9ianMuY2FtZXJhKCkpOyAvLyByZXBvcnQgcG9zaXRpb24gdG8gZ2xvYmVcbiAgICAgIH1cbiAgICB9LFxuICAgIGdldFNjcmVlbkNvb3JkczogZnVuY3Rpb24gZ2V0U2NyZWVuQ29vcmRzKHN0YXRlKSB7XG4gICAgICB2YXIgX3N0YXRlJGdsb2JlMztcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBnZW9Db29yZHMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBnZW9Db29yZHNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuICAgICAgdmFyIGNhcnRlc2lhbkNvb3JkcyA9IChfc3RhdGUkZ2xvYmUzID0gc3RhdGUuZ2xvYmUpLmdldENvb3Jkcy5hcHBseShfc3RhdGUkZ2xvYmUzLCBnZW9Db29yZHMpO1xuICAgICAgcmV0dXJuIHN0YXRlLnJlbmRlck9ianMuZ2V0U2NyZWVuQ29vcmRzKGNhcnRlc2lhbkNvb3Jkcy54LCBjYXJ0ZXNpYW5Db29yZHMueSwgY2FydGVzaWFuQ29vcmRzLnopO1xuICAgIH0sXG4gICAgdG9HbG9iZUNvb3JkczogZnVuY3Rpb24gdG9HbG9iZUNvb3JkcyhzdGF0ZSwgeCwgeSkge1xuICAgICAgdmFyIGdsb2JlSW50ZXJzZWN0cyA9IHN0YXRlLnJlbmRlck9ianMuaW50ZXJzZWN0aW5nT2JqZWN0cyh4LCB5KS5maW5kKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiAoZC5vYmplY3QuX19nbG9iZU9ialR5cGUgfHwgZC5vYmplY3QucGFyZW50Ll9fZ2xvYmVPYmpUeXBlKSA9PT0gJ2dsb2JlJztcbiAgICAgIH0pO1xuICAgICAgaWYgKCFnbG9iZUludGVyc2VjdHMpIHJldHVybiBudWxsOyAvLyBjb29yZHMgb3V0c2lkZSBnbG9iZVxuXG4gICAgICB2YXIgX3N0YXRlJGdsb2JlJHRvR2VvQ29vID0gc3RhdGUuZ2xvYmUudG9HZW9Db29yZHMoZ2xvYmVJbnRlcnNlY3RzLnBvaW50KSxcbiAgICAgICAgbGF0ID0gX3N0YXRlJGdsb2JlJHRvR2VvQ29vLmxhdCxcbiAgICAgICAgbG5nID0gX3N0YXRlJGdsb2JlJHRvR2VvQ29vLmxuZztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdDogbGF0LFxuICAgICAgICBsbmc6IGxuZ1xuICAgICAgfTtcbiAgICB9LFxuICAgIHNjZW5lOiBmdW5jdGlvbiBzY2VuZShzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLnJlbmRlck9ianMuc2NlbmUoKTtcbiAgICB9LFxuICAgIC8vIEV4cG9zZSBzY2VuZVxuICAgIGNhbWVyYTogZnVuY3Rpb24gY2FtZXJhKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUucmVuZGVyT2Jqcy5jYW1lcmEoKTtcbiAgICB9LFxuICAgIC8vIEV4cG9zZSBjYW1lcmFcbiAgICByZW5kZXJlcjogZnVuY3Rpb24gcmVuZGVyZXIoc3RhdGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5yZW5kZXJPYmpzLnJlbmRlcmVyKCk7XG4gICAgfSxcbiAgICAvLyBFeHBvc2UgcmVuZGVyZXJcbiAgICBjb250cm9sczogZnVuY3Rpb24gY29udHJvbHMoc3RhdGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5yZW5kZXJPYmpzLmNvbnRyb2xzKCk7XG4gICAgfSxcbiAgICAvLyBFeHBvc2UgY29udHJvbHNcbiAgICBfZGVzdHJ1Y3RvcjogZnVuY3Rpb24gX2Rlc3RydWN0b3Ioc3RhdGUpIHtcbiAgICAgIHN0YXRlLmdsb2JlLl9kZXN0cnVjdG9yKCk7XG4gICAgICB0aGlzLnBhdXNlQW5pbWF0aW9uKCk7XG4gICAgICB0aGlzLnBvaW50c0RhdGEoW10pO1xuICAgICAgdGhpcy5hcmNzRGF0YShbXSk7XG4gICAgICB0aGlzLnBvbHlnb25zRGF0YShbXSk7XG4gICAgICB0aGlzLnBhdGhzRGF0YShbXSk7XG4gICAgICB0aGlzLmhlYXRtYXBzRGF0YShbXSk7XG4gICAgICB0aGlzLmhleEJpblBvaW50c0RhdGEoW10pO1xuICAgICAgdGhpcy5oZXhQb2x5Z29uc0RhdGEoW10pO1xuICAgICAgdGhpcy50aWxlc0RhdGEoW10pO1xuICAgICAgdGhpcy5wYXJ0aWNsZXNEYXRhKFtdKTtcbiAgICAgIHRoaXMubGFiZWxzRGF0YShbXSk7XG4gICAgICB0aGlzLmh0bWxFbGVtZW50c0RhdGEoW10pO1xuICAgICAgdGhpcy5vYmplY3RzRGF0YShbXSk7XG4gICAgICB0aGlzLmN1c3RvbUxheWVyRGF0YShbXSk7XG4gICAgfVxuICB9LCBsaW5rZWRHbG9iZU1ldGhvZHMpLCBsaW5rZWRSZW5kZXJPYmpzTWV0aG9kcyksXG4gIHN0YXRlSW5pdDogZnVuY3Rpb24gc3RhdGVJbml0KF9yZWY2KSB7XG4gICAgdmFyIHJlbmRlcmVyQ29uZmlnID0gX3JlZjYucmVuZGVyZXJDb25maWcsXG4gICAgICBfcmVmNiR3YWl0Rm9yR2xvYmVSZWEgPSBfcmVmNi53YWl0Rm9yR2xvYmVSZWFkeSxcbiAgICAgIHdhaXRGb3JHbG9iZVJlYWR5ID0gX3JlZjYkd2FpdEZvckdsb2JlUmVhID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjYkd2FpdEZvckdsb2JlUmVhLFxuICAgICAgZ2xvYmVJbml0Q29uZmlnID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY2LCBfZXhjbHVkZWQpO1xuICAgIHZhciBnbG9iZSA9IG5ldyBUaHJlZUdsb2JlKF9vYmplY3RTcHJlYWQyKHtcbiAgICAgIHdhaXRGb3JHbG9iZVJlYWR5OiB3YWl0Rm9yR2xvYmVSZWFkeVxuICAgIH0sIGdsb2JlSW5pdENvbmZpZykpO1xuICAgIHJldHVybiB7XG4gICAgICBnbG9iZTogZ2xvYmUsXG4gICAgICByZW5kZXJPYmpzOiBUaHJlZVJlbmRlck9iamVjdHMoe1xuICAgICAgICBjb250cm9sVHlwZTogJ29yYml0JyxcbiAgICAgICAgcmVuZGVyZXJDb25maWc6IHJlbmRlcmVyQ29uZmlnLFxuICAgICAgICB3YWl0Rm9yTG9hZENvbXBsZXRlOiB3YWl0Rm9yR2xvYmVSZWFkeSxcbiAgICAgICAgZXh0cmFSZW5kZXJlcnM6IFtuZXcgVEhSRUUuQ1NTMkRSZW5kZXJlcigpXSAvLyBVc2VkIGluIEhUTUwgZWxlbWVudHMgbGF5ZXJcbiAgICAgIH0pLnNreVJhZGl1cyhnbG9iZS5nZXRHbG9iZVJhZGl1cygpICogNTAwKS5zaG93TmF2SW5mbyhmYWxzZSkub2JqZWN0cyhbZ2xvYmVdKSAvLyBQb3B1bGF0ZSBzY2VuZVxuICAgICAgLmxpZ2h0cyhbbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGNjY2NjYywgTWF0aC5QSSksIG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjYgKiBNYXRoLlBJKV0pLFxuICAgICAgdHdlZW5Hcm91cDogbmV3IEdyb3VwKClcbiAgICB9O1xuICB9LFxuICBpbml0OiBmdW5jdGlvbiBpbml0KGRvbU5vZGUsIHN0YXRlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAvLyBXaXBlIERPTVxuICAgIGRvbU5vZGUuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAvLyBBZGQgcmVsYXRpdmUgY29udGFpbmVyXG4gICAgZG9tTm9kZS5hcHBlbmRDaGlsZChzdGF0ZS5jb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSk7XG4gICAgc3RhdGUuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuICAgIC8vIEFkZCByZW5kZXJPYmpzXG4gICAgdmFyIHJvRG9tTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHN0YXRlLmNvbnRhaW5lci5hcHBlbmRDaGlsZChyb0RvbU5vZGUpO1xuICAgIHN0YXRlLnJlbmRlck9ianMocm9Eb21Ob2RlKTtcblxuICAgIC8vIGluamVjdCByZW5kZXJlciBzaXplIG9uIHRocmVlLWdsb2JlXG4gICAgc3RhdGUuZ2xvYmUucmVuZGVyZXJTaXplKHN0YXRlLnJlbmRlck9ianMucmVuZGVyZXIoKS5nZXRTaXplKG5ldyBUSFJFRS5WZWN0b3IyKCkpKTtcblxuICAgIC8vIHNldCBpbml0aWFsIGRpc3RhbmNlXG4gICAgdGhpcy5wb2ludE9mVmlldyh7XG4gICAgICBhbHRpdHVkZTogMi41XG4gICAgfSk7XG5cbiAgICAvLyBjYWxpYnJhdGUgb3JiaXQgY29udHJvbHNcbiAgICB2YXIgZ2xvYmVSID0gc3RhdGUuZ2xvYmUuZ2V0R2xvYmVSYWRpdXMoKTtcbiAgICB2YXIgY29udHJvbHMgPSBzdGF0ZS5yZW5kZXJPYmpzLmNvbnRyb2xzKCk7XG4gICAgc3RhdGUucmVuZGVyT2Jqcy5jYW1lcmEoKS5uZWFyID0gMC4wNTsgLy8gbGVzcyB3aWxsIHN0YXJ0IGNhdXNpbmcgZGVwdGggei1maWdodGluZyBpc3N1ZXNcbiAgICBjb250cm9scy5taW5EaXN0YW5jZSA9IGdsb2JlUiArIE1hdGgubWF4KDAuMDAxLCBzdGF0ZS5yZW5kZXJPYmpzLmNhbWVyYSgpLm5lYXIgKiAxLjEpOyAvLyBqdXN0IGFib3ZlIHRoZSBzdXJmYWNlLCBhcyBtdWNoIGFzIGNhbWVyYSBuZWFyIHBsYW5lIHBlcm1pdHNcbiAgICBjb250cm9scy5tYXhEaXN0YW5jZSA9IGdsb2JlUiAqIDEwMDtcbiAgICBjb250cm9scy5lbmFibGVQYW4gPSBmYWxzZTtcbiAgICBjb250cm9scy5lbmFibGVEYW1waW5nID0gdHJ1ZTtcbiAgICBjb250cm9scy5kYW1waW5nRmFjdG9yID0gMC4xO1xuICAgIGNvbnRyb2xzLnJvdGF0ZVNwZWVkID0gMC4zO1xuICAgIGNvbnRyb2xzLnpvb21TcGVlZCA9IDAuMztcbiAgICBjb250cm9scy56b29tVG9DdXJzb3IgPSB0cnVlO1xuICAgIGNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnRyb2xzLnRhcmdldC5zZXRTY2FsYXIoMCk7IC8vIEtlZXAgb3JiaXQgdGFyZ2V0IG9uIGNlbnRlclxuXG4gICAgICAvLyBhZGp1c3QgY29udHJvbHMgc3BlZWQgYmFzZWQgb24gYWx0aXR1ZGVcbiAgICAgIHZhciBwb3YgPSBfdGhpcy5wb2ludE9mVmlldygpO1xuICAgICAgY29udHJvbHMucm90YXRlU3BlZWQgPSBwb3YuYWx0aXR1ZGUgKiAwLjM7XG4gICAgICBjb250cm9scy56b29tU3BlZWQgPSBNYXRoLnNxcnQocG92LmFsdGl0dWRlKSAqIDAuNTtcblxuICAgICAgLy8gVXBkYXRlIHRocmVlLWdsb2JlIHBvdiB3aGVuIGNhbWVyYSBtb3ZlcywgZm9yIHByb3BlciBoaWRpbmcgb2YgZWxlbWVudHNcbiAgICAgIHN0YXRlLmdsb2JlLnNldFBvaW50T2ZWaWV3KHN0YXRlLnJlbmRlck9ianMuY2FtZXJhKCkpO1xuICAgICAgc3RhdGUub25ab29tICYmIHN0YXRlLm9uWm9vbShwb3YpO1xuICAgIH0pO1xuXG4gICAgLy8gY29uZmlnIHJlbmRlck9ianNcbiAgICB2YXIgZ2V0R2xvYmVPYmogPSBmdW5jdGlvbiBnZXRHbG9iZU9iaihvYmplY3QpIHtcbiAgICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgICAvLyByZWN1cnNlIHVwIG9iamVjdCBjaGFpbiB1bnRpbCBmaW5kaW5nIHRoZSBnbG9iZSBvYmplY3RcbiAgICAgIHdoaWxlIChvYmogJiYgIW9iai5oYXNPd25Qcm9wZXJ0eSgnX19nbG9iZU9ialR5cGUnKSkge1xuICAgICAgICBvYmogPSBvYmoucGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIHZhciBkYXRhQWNjZXNzb3JzID0ge1xuICAgICAgcG9pbnQ6IGZ1bmN0aW9uIHBvaW50KGQpIHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9LFxuICAgICAgYXJjOiBmdW5jdGlvbiBhcmMoZCkge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0sXG4gICAgICBwb2x5Z29uOiBmdW5jdGlvbiBwb2x5Z29uKGQpIHtcbiAgICAgICAgcmV0dXJuIGQuZGF0YTtcbiAgICAgIH0sXG4gICAgICBwYXRoOiBmdW5jdGlvbiBwYXRoKGQpIHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9LFxuICAgICAgaGVhdG1hcDogZnVuY3Rpb24gaGVhdG1hcChkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSxcbiAgICAgIGhleGJpbjogZnVuY3Rpb24gaGV4YmluKGQpIHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9LFxuICAgICAgaGV4UG9seWdvbjogZnVuY3Rpb24gaGV4UG9seWdvbihkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSxcbiAgICAgIHRpbGU6IGZ1bmN0aW9uIHRpbGUoZCkge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0sXG4gICAgICBwYXJ0aWNsZXM6IGZ1bmN0aW9uIHBhcnRpY2xlcyhkLCBpbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuICFpbnRlcnNlY3Rpb24gfHwgIWludGVyc2VjdGlvbi5oYXNPd25Qcm9wZXJ0eSgnaW5kZXgnKSB8fCBkLmxlbmd0aCA8PSBpbnRlcnNlY3Rpb24uaW5kZXggPyBkIDogZFtpbnRlcnNlY3Rpb24uaW5kZXhdO1xuICAgICAgfSxcbiAgICAgIGxhYmVsOiBmdW5jdGlvbiBsYWJlbChkKSB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSxcbiAgICAgIG9iamVjdDogZnVuY3Rpb24gb2JqZWN0KGQpIHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9LFxuICAgICAgY3VzdG9tOiBmdW5jdGlvbiBjdXN0b20oZCkge1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH1cbiAgICB9O1xuICAgIFRIUkVFLlJFVklTSU9OIDwgMTU1ICYmIChzdGF0ZS5yZW5kZXJPYmpzLnJlbmRlcmVyKCkudXNlTGVnYWN5TGlnaHRzID0gZmFsc2UpOyAvLyBmb3JjZSBiZWhhdmlvciBvZiB0aHJlZSA8IDE1NVxuICAgIHN0YXRlLnJlbmRlck9ianMuaG92ZXJGaWx0ZXIoZnVuY3Rpb24gKG9iaikge1xuICAgICAgdmFyIG8gPSBnZXRHbG9iZU9iaihvYmopO1xuXG4gICAgICAvLyBpZ25vcmUgbm9uLWdsb2JlIG9iamVjdHNcbiAgICAgIGlmICghbykgcmV0dXJuIGZhbHNlO1xuICAgICAgdmFyIHR5cGUgPSBvLl9fZ2xvYmVPYmpUeXBlO1xuICAgICAgaWYgKHR5cGUgIT09ICdnbG9iZScgJiYgIWRhdGFBY2Nlc3NvcnMuaGFzT3duUHJvcGVydHkodHlwZSkpIHJldHVybiBmYWxzZTsgLy8gSWdub3JlIG9iaiB0eXBlcyB3aXRoIG5vIGRhdGFcbiAgICAgIHZhciBkID0gZGF0YUFjY2Vzc29ycy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSAmJiBvLl9fZGF0YSA/IGRhdGFBY2Nlc3NvcnNbdHlwZV0oby5fX2RhdGEpIDogbnVsbDtcblxuICAgICAgLy8gSWdub3JlIG1lcmdlZCBnZW9tZXRyeSBvYmplY3RzIHRoYXQgZG9uJ3QgaGF2ZSBpbnRlcmFjdGlvbiBwZXIgcG9pbnRcbiAgICAgIGlmIChbJ3BvaW50cycsICdoZXhCaW5Qb2ludHMnXS5zb21lKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHJldHVybiB0ID09PSB0eXBlO1xuICAgICAgfSkgJiYgQXJyYXkuaXNBcnJheShkKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHN0YXRlLnBvaW50ZXJFdmVudHNGaWx0ZXIobywgZCk7XG4gICAgfSkudG9vbHRpcENvbnRlbnQoZnVuY3Rpb24gKG9iaiwgaW50ZXJzZWN0aW9uKSB7XG4gICAgICB2YXIgb2JqQWNjZXNzb3JzID0ge1xuICAgICAgICBwb2ludDogc3RhdGUucG9pbnRMYWJlbCxcbiAgICAgICAgYXJjOiBzdGF0ZS5hcmNMYWJlbCxcbiAgICAgICAgcG9seWdvbjogc3RhdGUucG9seWdvbkxhYmVsLFxuICAgICAgICBwYXRoOiBzdGF0ZS5wYXRoTGFiZWwsXG4gICAgICAgIGhleGJpbjogc3RhdGUuaGV4TGFiZWwsXG4gICAgICAgIGhleFBvbHlnb246IHN0YXRlLmhleFBvbHlnb25MYWJlbCxcbiAgICAgICAgdGlsZTogc3RhdGUudGlsZUxhYmVsLFxuICAgICAgICBwYXJ0aWNsZXM6IHN0YXRlLnBhcnRpY2xlTGFiZWwsXG4gICAgICAgIGxhYmVsOiBzdGF0ZS5sYWJlbExhYmVsLFxuICAgICAgICBvYmplY3Q6IHN0YXRlLm9iamVjdExhYmVsLFxuICAgICAgICBjdXN0b206IHN0YXRlLmN1c3RvbUxheWVyTGFiZWxcbiAgICAgIH07XG4gICAgICB2YXIgZ2xvYmVPYmogPSBnZXRHbG9iZU9iaihvYmopO1xuICAgICAgdmFyIG9ialR5cGUgPSBnbG9iZU9iaiAmJiBnbG9iZU9iai5fX2dsb2JlT2JqVHlwZTtcbiAgICAgIHJldHVybiBnbG9iZU9iaiAmJiBvYmpUeXBlICYmIG9iakFjY2Vzc29ycy5oYXNPd25Qcm9wZXJ0eShvYmpUeXBlKSAmJiBkYXRhQWNjZXNzb3JzLmhhc093blByb3BlcnR5KG9ialR5cGUpID8gYWNjZXNzb3JGbihvYmpBY2Nlc3NvcnNbb2JqVHlwZV0pKGRhdGFBY2Nlc3NvcnNbb2JqVHlwZV0oZ2xvYmVPYmouX19kYXRhLCBpbnRlcnNlY3Rpb24pKSB8fCAnJyA6ICcnO1xuICAgIH0pLm9uSG92ZXIoZnVuY3Rpb24gKG9iaiwgXywgaW50ZXJzZWN0aW9uKSB7XG4gICAgICAvLyBVcGRhdGUgdG9vbHRpcCBhbmQgdHJpZ2dlciBvbkhvdmVyIGV2ZW50c1xuICAgICAgdmFyIGhvdmVyT2JqRm5zID0ge1xuICAgICAgICBwb2ludDogc3RhdGUub25Qb2ludEhvdmVyLFxuICAgICAgICBhcmM6IHN0YXRlLm9uQXJjSG92ZXIsXG4gICAgICAgIHBvbHlnb246IHN0YXRlLm9uUG9seWdvbkhvdmVyLFxuICAgICAgICBwYXRoOiBzdGF0ZS5vblBhdGhIb3ZlcixcbiAgICAgICAgaGVhdG1hcDogc3RhdGUub25IZWF0bWFwSG92ZXIsXG4gICAgICAgIGhleGJpbjogc3RhdGUub25IZXhIb3ZlcixcbiAgICAgICAgaGV4UG9seWdvbjogc3RhdGUub25IZXhQb2x5Z29uSG92ZXIsXG4gICAgICAgIHRpbGU6IHN0YXRlLm9uVGlsZUhvdmVyLFxuICAgICAgICBwYXJ0aWNsZXM6IHN0YXRlLm9uUGFydGljbGVIb3ZlcixcbiAgICAgICAgbGFiZWw6IHN0YXRlLm9uTGFiZWxIb3ZlcixcbiAgICAgICAgb2JqZWN0OiBzdGF0ZS5vbk9iamVjdEhvdmVyLFxuICAgICAgICBjdXN0b206IHN0YXRlLm9uQ3VzdG9tTGF5ZXJIb3ZlclxuICAgICAgfTtcbiAgICAgIHZhciBjbGlja09iakZucyA9IHtcbiAgICAgICAgZ2xvYmU6IHN0YXRlLm9uR2xvYmVDbGljayxcbiAgICAgICAgcG9pbnQ6IHN0YXRlLm9uUG9pbnRDbGljayxcbiAgICAgICAgYXJjOiBzdGF0ZS5vbkFyY0NsaWNrLFxuICAgICAgICBwb2x5Z29uOiBzdGF0ZS5vblBvbHlnb25DbGljayxcbiAgICAgICAgcGF0aDogc3RhdGUub25QYXRoQ2xpY2ssXG4gICAgICAgIGhlYXRtYXA6IHN0YXRlLm9uSGVhdG1hcENsaWNrLFxuICAgICAgICBoZXhiaW46IHN0YXRlLm9uSGV4Q2xpY2ssXG4gICAgICAgIGhleFBvbHlnb246IHN0YXRlLm9uSGV4UG9seWdvbkNsaWNrLFxuICAgICAgICB0aWxlOiBzdGF0ZS5vblRpbGVDbGljayxcbiAgICAgICAgcGFydGljbGVzOiBzdGF0ZS5vblBhcnRpY2xlQ2xpY2ssXG4gICAgICAgIGxhYmVsOiBzdGF0ZS5vbkxhYmVsQ2xpY2ssXG4gICAgICAgIG9iamVjdDogc3RhdGUub25PYmplY3RDbGljayxcbiAgICAgICAgY3VzdG9tOiBzdGF0ZS5vbkN1c3RvbUxheWVyQ2xpY2tcbiAgICAgIH07XG4gICAgICB2YXIgaG92ZXJPYmogPSBnZXRHbG9iZU9iaihvYmopO1xuXG4gICAgICAvLyBpZ25vcmUgbm9uLXJlY29nbmlzZWQgb2JqIHR5cGVzXG4gICAgICBob3Zlck9iaiAmJiAhaG92ZXJPYmpGbnMuaGFzT3duUHJvcGVydHkoaG92ZXJPYmouX19nbG9iZU9ialR5cGUpICYmIChob3Zlck9iaiA9IG51bGwpO1xuICAgICAgaWYgKGhvdmVyT2JqICE9PSBzdGF0ZS5ob3Zlck9iaikge1xuICAgICAgICB2YXIgX2hvdmVyT2JqO1xuICAgICAgICB2YXIgcHJldk9ialR5cGUgPSBzdGF0ZS5ob3Zlck9iaiA/IHN0YXRlLmhvdmVyT2JqLl9fZ2xvYmVPYmpUeXBlIDogbnVsbDtcbiAgICAgICAgdmFyIHByZXZPYmpEYXRhID0gc3RhdGUuaG92ZXJEYXRhO1xuICAgICAgICB2YXIgb2JqVHlwZSA9IGhvdmVyT2JqID8gaG92ZXJPYmouX19nbG9iZU9ialR5cGUgOiBudWxsO1xuICAgICAgICB2YXIgb2JqRGF0YSA9IChfaG92ZXJPYmogPSBob3Zlck9iaikgIT09IG51bGwgJiYgX2hvdmVyT2JqICE9PSB2b2lkIDAgJiYgX2hvdmVyT2JqLl9fZGF0YSA/IGRhdGFBY2Nlc3NvcnNbb2JqVHlwZV0oaG92ZXJPYmouX19kYXRhLCBpbnRlcnNlY3Rpb24pIDogbnVsbDtcbiAgICAgICAgaWYgKHByZXZPYmpUeXBlICYmIHByZXZPYmpUeXBlICE9PSBvYmpUeXBlKSB7XG4gICAgICAgICAgLy8gSG92ZXIgb3V0XG4gICAgICAgICAgaG92ZXJPYmpGbnNbcHJldk9ialR5cGVdICYmIGhvdmVyT2JqRm5zW3ByZXZPYmpUeXBlXShudWxsLCBwcmV2T2JqRGF0YSB8fCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqVHlwZSkge1xuICAgICAgICAgIC8vIEhvdmVyIGluXG4gICAgICAgICAgaG92ZXJPYmpGbnNbb2JqVHlwZV0gJiYgaG92ZXJPYmpGbnNbb2JqVHlwZV0ob2JqRGF0YSwgcHJldk9ialR5cGUgPT09IG9ialR5cGUgPyBwcmV2T2JqRGF0YSA6IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHBvaW50ZXIgaWYgaG92ZXJlZCBvYmplY3QgaXMgY2xpY2thYmxlXG4gICAgICAgIHN0YXRlLnJlbmRlck9ianMucmVuZGVyZXIoKS5kb21FbGVtZW50LmNsYXNzTGlzdFtvYmpUeXBlICYmIGNsaWNrT2JqRm5zW29ialR5cGVdICYmIGFjY2Vzc29yRm4oc3RhdGUuc2hvd1BvaW50ZXJDdXJzb3IpKG9ialR5cGUsIG9iakRhdGEpID8gJ2FkZCcgOiAncmVtb3ZlJ10oJ2NsaWNrYWJsZScpO1xuICAgICAgICBzdGF0ZS5ob3Zlck9iaiA9IGhvdmVyT2JqO1xuICAgICAgICBzdGF0ZS5ob3ZlckRhdGEgPSBvYmpEYXRhO1xuICAgICAgfVxuICAgIH0pLm9uQ2xpY2soZnVuY3Rpb24gKG9iaiwgZXYsIGludGVyc2VjdGlvbikge1xuICAgICAgaWYgKCFvYmopIHJldHVybjsgLy8gaWdub3JlIGJhY2tncm91bmQgY2xpY2tzXG5cbiAgICAgIC8vIEhhbmRsZSBjbGljayBldmVudHMgb24gb2JqZWN0c1xuICAgICAgdmFyIG9iakZucyA9IHtcbiAgICAgICAgZ2xvYmU6IHN0YXRlLm9uR2xvYmVDbGljayxcbiAgICAgICAgcG9pbnQ6IHN0YXRlLm9uUG9pbnRDbGljayxcbiAgICAgICAgYXJjOiBzdGF0ZS5vbkFyY0NsaWNrLFxuICAgICAgICBwb2x5Z29uOiBzdGF0ZS5vblBvbHlnb25DbGljayxcbiAgICAgICAgcGF0aDogc3RhdGUub25QYXRoQ2xpY2ssXG4gICAgICAgIGhlYXRtYXA6IHN0YXRlLm9uSGVhdG1hcENsaWNrLFxuICAgICAgICBoZXhiaW46IHN0YXRlLm9uSGV4Q2xpY2ssXG4gICAgICAgIGhleFBvbHlnb246IHN0YXRlLm9uSGV4UG9seWdvbkNsaWNrLFxuICAgICAgICB0aWxlOiBzdGF0ZS5vblRpbGVDbGljayxcbiAgICAgICAgcGFydGljbGVzOiBzdGF0ZS5vblBhcnRpY2xlQ2xpY2ssXG4gICAgICAgIGxhYmVsOiBzdGF0ZS5vbkxhYmVsQ2xpY2ssXG4gICAgICAgIG9iamVjdDogc3RhdGUub25PYmplY3RDbGljayxcbiAgICAgICAgY3VzdG9tOiBzdGF0ZS5vbkN1c3RvbUxheWVyQ2xpY2tcbiAgICAgIH07XG4gICAgICB2YXIgZ2xvYmVPYmogPSBnZXRHbG9iZU9iaihvYmopO1xuICAgICAgdmFyIG9ialR5cGUgPSBnbG9iZU9iai5fX2dsb2JlT2JqVHlwZTtcbiAgICAgIGlmIChnbG9iZU9iaiAmJiBvYmpGbnMuaGFzT3duUHJvcGVydHkob2JqVHlwZSkgJiYgb2JqRm5zW29ialR5cGVdKSB7XG4gICAgICAgIHZhciBhcmdzID0gW2V2XTtcblxuICAgICAgICAvLyBpbmNsdWRlIGNsaWNrIGNvb3Jkc1xuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcnNlY3Rpb24gIT09IG51bGwgJiYgaW50ZXJzZWN0aW9uICE9PSB2b2lkIDAgJiYgaW50ZXJzZWN0aW9uLmlzVmVjdG9yMyA/IGludGVyc2VjdGlvbiA6IGludGVyc2VjdGlvbiA9PT0gbnVsbCB8fCBpbnRlcnNlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyc2VjdGlvbi5wb2ludDtcbiAgICAgICAgaWYgKG9ialR5cGUgPT09ICdnbG9iZScpIHtcbiAgICAgICAgICB2YXIgX3RoaXMkdG9HZW9Db29yZHMgPSBfdGhpcy50b0dlb0Nvb3Jkcyhwb2ludCksXG4gICAgICAgICAgICBsYXQgPSBfdGhpcyR0b0dlb0Nvb3Jkcy5sYXQsXG4gICAgICAgICAgICBsbmcgPSBfdGhpcyR0b0dlb0Nvb3Jkcy5sbmc7XG4gICAgICAgICAgYXJncy51bnNoaWZ0KHtcbiAgICAgICAgICAgIGxhdDogbGF0LFxuICAgICAgICAgICAgbG5nOiBsbmdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcmdzLnB1c2goX3RoaXMudG9HZW9Db29yZHMocG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhQWNjZXNzb3JzLmhhc093blByb3BlcnR5KG9ialR5cGUpICYmIGFyZ3MudW5zaGlmdChkYXRhQWNjZXNzb3JzW29ialR5cGVdKGdsb2JlT2JqLl9fZGF0YSwgaW50ZXJzZWN0aW9uKSk7XG4gICAgICAgIG9iakZuc1tvYmpUeXBlXS5hcHBseShvYmpGbnMsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0pLm9uUmlnaHRDbGljayhmdW5jdGlvbiAob2JqLCBldiwgaW50ZXJzZWN0aW9uKSB7XG4gICAgICBpZiAoIW9iaikgcmV0dXJuOyAvLyBpZ25vcmUgYmFja2dyb3VuZCBjbGlja3NcblxuICAgICAgLy8gSGFuZGxlIHJpZ2h0LWNsaWNrIGV2ZW50c1xuICAgICAgdmFyIG9iakZucyA9IHtcbiAgICAgICAgZ2xvYmU6IHN0YXRlLm9uR2xvYmVSaWdodENsaWNrLFxuICAgICAgICBwb2ludDogc3RhdGUub25Qb2ludFJpZ2h0Q2xpY2ssXG4gICAgICAgIGFyYzogc3RhdGUub25BcmNSaWdodENsaWNrLFxuICAgICAgICBwb2x5Z29uOiBzdGF0ZS5vblBvbHlnb25SaWdodENsaWNrLFxuICAgICAgICBwYXRoOiBzdGF0ZS5vblBhdGhSaWdodENsaWNrLFxuICAgICAgICBoZWF0bWFwOiBzdGF0ZS5vbkhlYXRtYXBSaWdodENsaWNrLFxuICAgICAgICBoZXhiaW46IHN0YXRlLm9uSGV4UmlnaHRDbGljayxcbiAgICAgICAgaGV4UG9seWdvbjogc3RhdGUub25IZXhQb2x5Z29uUmlnaHRDbGljayxcbiAgICAgICAgdGlsZTogc3RhdGUub25UaWxlUmlnaHRDbGljayxcbiAgICAgICAgcGFydGljbGVzOiBzdGF0ZS5vblBhcnRpY2xlUmlnaHRDbGljayxcbiAgICAgICAgbGFiZWw6IHN0YXRlLm9uTGFiZWxSaWdodENsaWNrLFxuICAgICAgICBvYmplY3Q6IHN0YXRlLm9uT2JqZWN0UmlnaHRDbGljayxcbiAgICAgICAgY3VzdG9tOiBzdGF0ZS5vbkN1c3RvbUxheWVyUmlnaHRDbGlja1xuICAgICAgfTtcbiAgICAgIHZhciBnbG9iZU9iaiA9IGdldEdsb2JlT2JqKG9iaik7XG4gICAgICB2YXIgb2JqVHlwZSA9IGdsb2JlT2JqLl9fZ2xvYmVPYmpUeXBlO1xuICAgICAgaWYgKGdsb2JlT2JqICYmIG9iakZucy5oYXNPd25Qcm9wZXJ0eShvYmpUeXBlKSAmJiBvYmpGbnNbb2JqVHlwZV0pIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbZXZdO1xuXG4gICAgICAgIC8vIGluY2x1ZGUgY2xpY2sgY29vcmRzXG4gICAgICAgIHZhciBwb2ludCA9IGludGVyc2VjdGlvbiAhPT0gbnVsbCAmJiBpbnRlcnNlY3Rpb24gIT09IHZvaWQgMCAmJiBpbnRlcnNlY3Rpb24uaXNWZWN0b3IzID8gaW50ZXJzZWN0aW9uIDogaW50ZXJzZWN0aW9uID09PSBudWxsIHx8IGludGVyc2VjdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJzZWN0aW9uLnBvaW50O1xuICAgICAgICBpZiAob2JqVHlwZSA9PT0gJ2dsb2JlJykge1xuICAgICAgICAgIHZhciBfdGhpcyR0b0dlb0Nvb3JkczIgPSBfdGhpcy50b0dlb0Nvb3Jkcyhwb2ludCksXG4gICAgICAgICAgICBsYXQgPSBfdGhpcyR0b0dlb0Nvb3JkczIubGF0LFxuICAgICAgICAgICAgbG5nID0gX3RoaXMkdG9HZW9Db29yZHMyLmxuZztcbiAgICAgICAgICBhcmdzLnVuc2hpZnQoe1xuICAgICAgICAgICAgbGF0OiBsYXQsXG4gICAgICAgICAgICBsbmc6IGxuZ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFyZ3MucHVzaChfdGhpcy50b0dlb0Nvb3Jkcyhwb2ludCkpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFBY2Nlc3NvcnMuaGFzT3duUHJvcGVydHkob2JqVHlwZSkgJiYgYXJncy51bnNoaWZ0KGRhdGFBY2Nlc3NvcnNbb2JqVHlwZV0oZ2xvYmVPYmouX19kYXRhLCBpbnRlcnNlY3Rpb24pKTtcbiAgICAgICAgb2JqRm5zW29ialR5cGVdLmFwcGx5KG9iakZucywgYXJncyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL1xuXG4gICAgLy8gS2ljay1vZmYgcmVuZGVyZXJcbiAgICB0aGlzLl9hbmltYXRpb25DeWNsZSgpO1xuICB9XG59KTtcblxuZXhwb3J0IHsgZ2xvYmUgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/globe.gl/dist/globe.gl.mjs\n");

/***/ })

};
;